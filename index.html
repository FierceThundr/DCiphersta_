<!DOCTYPE html>
<html lang="en">
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>DHeusta Community Cipher</title>
		<style>
      body {
        position: absolute;
        left: 0;
        right: 0;
        top: 0;
        bottom: 0;
        margin: 0;
				background: black;
				border: 2px solid magenta;
      }

      body::before {
      	content: "";
      	position: absolute;
      	top: 0;
      	left: 0;
      	width: 100%;
      	height: 100%;
      	background-image: linear-gradient(rgba(255, 255, 255, 0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(255, 255, 255, 0.1) 1px, transparent 1px);
      	background-size: 20px 20px;
      	pointer-events: none;
      	animation: gridScroll 1s linear infinite;
      	z-index: 5;
      	opacity: 0.3;
      }

      @keyframes gridScroll {
      	from {background-position: 0 0;}
      	to {background-position: 20px 20px;}
      }
			
			main {
				position: absolute;
				left: 50%;
				top: 50%;
				transform: translate(-50%,-50%);
				display: flex;
				flex-direction: column;
				align-items: center;
			}
			
			h3 {
				color: magenta;
				font-family: monospace;
			}
			
			textarea {
				resize: none;
				background: transparent;
				border: 2px solid magenta;
				border-radius: 10px;
				outline: none !important;
				color: white;
				padding: 5px;
			}
    </style>
		<script>function fierce(t="",r){var e={input:"⁞JC`dc)PD:e#2>IAEK+wRmB3hTb*;Vl-S\\\"'H[x16<{ZuoYUrgM8O0zpa!=L^4?QinGNqk9, 5]s}.yt@vF|W_f&jX~(7/",output:[[13312,40959]],spacer:"",error:1e9};if("[object Object]"===Object.prototype.toString.call(r))for(var o of Object.keys(e))o in r&&(e[o]=r[o]);var n=(()=>{if("string"!=typeof t)return"Input message must be a string";if("string"!=typeof e.input)return"config.input must be a string";if(e.input.length<2)return"config.input must be at least two characters long";if(e.input.length!==new Set(e.input).size)return"config.input must contain no duplicate characters";if(!Array.isArray(e.output))return"config.output must be an array";if(e.output.some(t=>"string"!=typeof t)&&e.output.some(t=>!Array.isArray(t)))return"config.output must contain only strings or only arrays";if(0==e.output.length)return"config.output must specify output map data";if("string"==typeof e.output[0]){if(e.output.length<2)return"config.output must contain at least two strings";if(e.output.some((t,r)=>e.output.some((e,o)=>r!==o&&t.startsWith(e))))return"config.output strings must not be prefixes of other strings"}else{if(e.output.some(t=>2!==t.length||t.some(t=>!Number.isInteger(t))))return"config.output arrays must contain exactly two integers";if(e.output.some(t=>t[0]>t[1]))return"config.output arrays must have integers provided in ascending order";if(e.output.some(t=>t.some(t=>t<0||t>65535)))return"config.output arrays must contain valid UTF-16 character codes (0 - 65535)";if(2>e.output.reduce((t,r)=>t+r[1]-r[0]+1,0))return"config.output arrays must map to at least two characters long";if(e.output.some((t,r)=>e.output.slice(r+1).some(r=>t[0]<=r[1]&&r[0]<=t[1])))return"config.output arrays must not have overlapping regions"}return void 0!==e.spacer&&"string"!=typeof e.spacer?"config.spacer must either be a string or undefined":void 0===e.error||Number.isInteger(e.error)?void 0!==e.error&&e.error<256?"config.error must be greater or equal to 256":void 0:"config.error must either be an integer or undefined"})();if(n)return`[Error] ${n}`;var u,i,s,a,p=e.input,f="string"==typeof(u=e.output)[0]?u:u.map(([t,r])=>{let e=[];for(let o=t;o<=r;o++)e.push(String.fromCodePoint(o));return e}).flat(),g=f.length,l=p.length.toString(2).length,c=g.toString(2).length-1,$=t=>{t=t.toString();let r=1779033703,e=3144134277,o=1013904242,n=2773480762;for(let u,i=0;i<t.length;i++)r=e^Math.imul(r^(u=t.charCodeAt(i)),597399067),e=o^Math.imul(e^u,2869860233),o=n^Math.imul(o^u,951274213),n=r^Math.imul(n^u,2716044179);r=Math.imul(o^r>>>18,597399067),e=Math.imul(n^e>>>22,2869860233),o=Math.imul(r^o>>>17,951274213),n=Math.imul(e^n>>>19,2716044179),r^=e^o^n,e^=r,o^=r,n^=r;var[s,p,f,g]=[r>>>0,e>>>0,o>>>0,n>>>0];a=function(){var t=((s|=0)+(p|=0)|0)+(g|=0)|0;return g=g+1|0,s=p^p>>>9,p=(f|=0)+(f<<3)|0,f=(f=f<<21|f>>>11)+t|0,(t>>>0)/4294967296}},m=t=>{let r=0;t=t.toString();for(let e=0;e<t.length;e++)r=(r<<5)-r+t.charCodeAt(e)|0;r<0&&(r=-r);let o=[];for(let n=0;n<b;n++){r=r<<3^r>>>29^Math.floor(4294967295*a());let u=Math.abs(r+n)%g;o.push(_(u))}return o.join(v)},_=t=>f[t],o=t=>f.indexOf(t),h=t=>{var r;return $(s=Math.floor(Math.random()*g)),_(s)+v+((r=(t.split("").map(t=>-1!=(t=p.indexOf(t))?t.toString(2).padStart(l,0):"").join("").match(RegExp(`.{1,${c}}`,"g"))??[]).map(t=>_((parseInt(t.padEnd(c,0),2)+Math.floor(a()*g))%g)).join(v))+(""!=r?v:"")+($(s),m(r)))},d=t=>($(o(t[0])),(t.slice(1,-1*b).map(t=>((o(t)-Math.floor(a()*g)+g)%g).toString(2).padStart(c,0)).join("").match(RegExp(`.{${l}}`,"g"))??[]).map(t=>(t=parseInt(t,2))?p[t]??p[0]:"").join("")),y=((t,r)=>{let e=[];for(let o of t){let n=0;for(;;){let u=r.indexOf(o,n);if(-1===u)break;e.push({pos:u,match:o}),n=u+1}}e.sort((t,r)=>t.pos-r.pos);let i=[],s=0;for(let{pos:a,match:p}of e)a>=s&&(i.push(p),s=a+p.length);return i})(f,t),v=e.spacer,b=(t=>{for(var r=0;t>1;)r++,t/=g;return Math.max(r,3)})(e.error),j=($(o(y[0])),y.slice(-1*b).join(v)==m(y.slice(1,-1*b).join(v)));return[d,h][+!j](j?y:t)}window.addEventListener("load",(()=>{var t={input:document.getElementById("input"),output:document.getElementById("output")};t.input.addEventListener("input",(()=>{t.output.value=fierce(t.input.value,{output:[[40960,42124]]})}))}));</script>
	</head>
	<body>
		<main>
			<textarea id="input" rows="10" cols="100" placeholder="Type in a message or enter a cipher to decode..." autofocus></textarea>
			<h3>⮝ Input / Output ⮟</h3>
			<textarea id="output" rows="10" cols="100" placeholder="Your ciphertext or plaintext will be here..." readonly onclick="this.select()"></textarea>
		</main>
	</body>
</html>